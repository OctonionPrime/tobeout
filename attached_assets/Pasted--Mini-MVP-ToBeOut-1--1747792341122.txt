Задача: Разработка Mini-MVP "ToBeOut" – Системы бронирования ресторанов

1. Общее Описание Проекта:
Создать минимально жизнеспособный продукт (mini-MVP) облачной SaaS-платформы "ToBeOut" для управления бронированиями в ресторанах. Система должна включать административную панель (монолит), кабинет для ресторанов-партнеров (B2B) и AI-ассистента (digital консьержа) для обработки запросов гостей через различные каналы коммуникации.

2. Ключевые Компоненты и Функциональные Требования:

2.1. Административная Панель (Монолит - admin.tobeout.com)
* База данных Ресторанов:
* Атрибуты: ID, логин/пароль, название, страна/город/адрес, основное фото, часы работы, параметры для бронирования (средняя продолжительность), краткое описание/теги, ссылки (Google Maps/Tripadvisor), номер телефона для передачи брони, дата добавления, купленные лицензии (название, дата/стоимость/срок покупки), ответственный менеджер.
* База столов ресторана: ID стола, название, мин/макс гостей, комментарии (у окна, и т.д.).
* База таймслотов: Автоматическая генерация на X дней вперед (шаг 30 мин, в пределах часов работы, последний слот учитывает среднюю продолжительность брони), для каждого стола, статус по умолчанию "свободен" (ID стола, дата, время, статус: свободен, ожидает подтверждения, занят).
* Настройки виджетов: API-ключи (Telegram, Facebook/Instagram), другие API/значимые настройки (номера для переадресации).
* Прочие настройки бронирования: Размер мин/макс брони, стандартная продолжительность.
* База данных Бронирований:
* Функции: Просмотр, редактирование статуса, выгрузка для аналитики.
* Атрибуты: ID брони, дата/время создания, дата/время брони, кол-во гостей, комментарий, статус (создана, подтверждена, архивная), ID гостя, ID ресторана, ID таймслота.
* База данных Гостей:
* Атрибуты: ID гостя, ID ресторанов (где бронировал) + кол-во броней, номер моб. телефона (уникальный), E-mail (опционально), язык, комментарии/теги (опционально), день рождения (опционально), дата создания.

2.2. Кабинет Партнера (B2B - для Ресторана)
* Авторизация и доступ: Email/телефон + пароль, восстановление доступа.
* Управление профилем ресторана: Редактирование карточки (название, описание, фото, логотип, график работы, кухня, атмосфера, особенности, теги, языки, телефон для бронирования).
* Управление столами: Создание и настройка схемы посадки (столики, вместимость, теги).
* Настройки бронирования:
* Параметры: Длительность брони, шаг времени, ограничения по гостям, условия отмены/подтверждения, ручное/автоматическое подтверждение.
* Интеграции: Подключение Telegram-бота (внесение API-ключа), настройки интеграции с Google.
* Виджет: Настройка и генерация виджета бронирования (iframe/ссылка).
* Дашборд и аналитика: Кол-во бронирований (по дням/неделям), кол-во уникальных гостей, статистика по таймслотам, кнопка выгрузки базы гостей и броней (CSV/Excel).
* Работа с бронированиями (Web-Hostess):
* Просмотр активных, будущих, прошедших броней (фильтры: дата, статус, гости, время, столик).
* Ручное подтверждение/отклонение брони.
* Ручное создание брони.
* Отображение отмененных гостем броней.
* Прогноз загрузки ресторана.

2.3. Виджеты для Гостей и Каналы Коммуникации (с AI-ассистентом)
* Бесплатные каналы:
* Telegram-бот: Для сценариев бронирования, изменения, отмены, напоминаний.
* Бот для Facebook/Instagram-мессенджера: Функциональность аналогична Telegram-боту.
* Виджет Онлайн-чата для сайта: Встраиваемый, с опцией запроса E-mail для подтверждения.
* HTML-форма онлайн-бронирования: Встраиваемая (iFrame/страница) с полями (Дата, Время, Гости, Имя, Телефон, Комментарии, согласие на обработку ПД), с опцией запроса E-mail для подтверждения.
* Нативная форма в Google Maps: Подтверждение через E-mail (обязательно).
* Платные каналы (к рассмотрению, не для mini-MVP, если не указано иное):
* WhatsApp Business аккаунт.
* Голосовой робот для телефонии.

2.4. AI-ассистент (Digital Консьерж) - Функциональность и Сценарии:

* **Сценарии Гостя:**
    * **Сценарий 1:** Забронировать в переписке (Telegram, FB/IG, онлайн-чат).
        * Распознавание намерения и данных (дата, время, гости, пожелания, имя, телефон).
        * Уточняющие вопросы при нехватке данных.
        * Поиск слота (точное совпадение, ближайшие альтернативы).
        * Обработка пожеланий (сопоставление с тегами столов).
        * Проверка вместимости (для больших групп – передача менеджеру).
        * Финальное подтверждение с резюме брони.
        * Создание брони (статус "создана"), отправка подтверждения.
    * **Сценарий 1.1:** Изменить или отменить бронь в переписке.
        * Идентификация пользователя по номеру телефона.
        * Уточнение брони (если несколько).
        * Проверка валидности брони.
        * Сбор пожеланий по изменению (переход к логике Сценария 1 для поиска нового слота) или отмена.
        * Подтверждение изменений/отмены.
    * **Сценарий 1.2:** Получить напоминание в переписке ("Буду / Не буду").
        * Автоматическая отправка за 24ч и 2ч до брони (с условиями).
        * Каналы: Telegram, Email.
        * Содержание: детали брони, учтенные пожелания.
        * Ответы: "Буду" (обновление поля confirmation_24h/2h), "Внести изменения" (запуск Сценария 1.1), "Отменить" (запуск Сценария 1.1 с отменой).
        * Обработка Email-ответов через NLP.
    * **Сценарий 2:** Забронировать по звонку (через голосового AI).
        * Логика аналогична Сценарию 1, адаптированная для голоса (ASR/NLU).
    * **Сценарий 2.1:** Изменить/отменить бронь по звонку.
        * Логика аналогична Сценарию 1.1, адаптированная для голоса.
    * **Сценарий 3:** Забронировать через онлайн-форму на сайте/в приложении.
        * Форма с полями (Имя, Телефон, Email (опц.), Дата, Время, Гости, Пожелания).
        * Обработка запроса AI (поиск слота, обработка пожеланий, проверка вместимости).
        * Ответы: слот доступен (подтверждение), слот недоступен (альтернативы), превышена вместимость (передача менеджеру).
* **Сценарии Хостес (через Telegram-бота ресторана):**
    * **Сценарий 4:** Уведомление о новой брони.
        * Автоматическая отправка карточки брони после подтверждения гостем.
    * **Сценарий 4.1:** Хостес подтверждает/отклоняет бронь через кнопки в Telegram-боте.
        * Обновление статуса брони, уведомление гостя.
    * **Сценарий 4.2:** Уведомление хостес об отмене брони (гостем, системой, поддержкой).
    * **Сценарий 4.3:** Ежечасное уведомление хостес о прогнозе загрузки на ближайшие 2 часа.
2.5. Интеграции:
* CRM-система для E-mail: Подключение к сервису типа MailChimp.
* Action Center Google: Согласно документации и TOS Google.
* TripAdvisor API: Согласно документации TripAdvisor.

2.6. AI-Onboarding для Ресторанов (начальная проработка):
* Разработка Landing page для привлечения ресторанов.
* Реализация процесса регистрации и верификации (детали "in progress").

3. Технические Примечания и Ограничения MVP:
* Админка реализуется как монолитное веб-приложение.
* Основной фокус на корректной работе AI-ассистента в части обработки сценариев бронирования.
* Для MVP реализуются основные бесплатные каналы коммуникации.
* Android-приложение для хостес, WhatsApp Business, платный Голосовой робот – рассматриваются как развитие после MVP.
* Все действия пользователей и системы должны логироваться.
* Система должна обеспечивать синхронизацию данных о таймслотах между AI-ассистентом и административной панелью.

4. Ожидаемый Результат:
Функционирующий mini-MVP платформы "ToBeOut", позволяющий ресторанам управлять своими профилями, столами и бронированиями, а гостям – осуществлять бронирования через AI-ассистента по различным каналам связи, с базовой аналитикой для ресторанов и администраторов.